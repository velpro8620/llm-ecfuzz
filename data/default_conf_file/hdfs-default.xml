<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>
<configuration>

    <!-- 集群地址 & 端口 -->

    <property>
        <name>dfs.namenode.rpc-address</name>
        <value>localhost:9000</value>
        <description>NameNode RPC address</description>
    </property>

    <property>
        <name>dfs.namenode.servicerpc-address</name>
        <value>localhost:9001</value>
        <description>NameNode Service RPC address</description>
    </property>

    <property>
        <name>dfs.namenode.http-address</name>
        <value>localhost:50070</value>
        <description>NameNode Web UI</description>
    </property>

    <property>
        <name>dfs.namenode.secondary.http-address</name>
        <value>localhost:50090</value>
        <description>SecondaryNameNode Web UI address</description>
    </property>

    <!-- 元数据 / 数据目录 -->

    <property>
        <name>dfs.namenode.name.dir</name>
        <value>file:///tmp/ecfuzz_data/name</value>
        <description>Directory for NameNode namespace</description>
    </property>

    <property>
        <name>dfs.namenode.edits.dir</name>
        <value>file:///tmp/ecfuzz_data/name</value>
        <description>Directory for edit logs</description>
    </property>

    <property>
        <name>dfs.datanode.data.dir</name>
        <value>file:///tmp/ecfuzz_data/data</value>
        <description>DataNode data directory</description>
    </property>

    <property>
        <name>dfs.replication</name>
        <value>1</value>
        <description>Default block replication</description>
    </property>

    <property>
        <name>dfs.namenode.replication.min</name>
        <value>1</value>
        <description>Minimal replication</description>
    </property>

    <property>
        <name>dfs.namenode.replication.max</name>
        <value>10</value>
        <description>Maximal replication</description>
    </property>

    <!-- safemode / 权限 -->

    <property>
        <name>dfs.namenode.safemode.threshold-pct</name>
        <value>0</value>
        <description>Disable safemode threshold for tests</description>
    </property>

    <property>
        <name>dfs.namenode.safemode.min.datanodes</name>
        <value>0</value>
        <description>Minimal number of live datanodes to leave safemode</description>
    </property>

    <property>
        <name>dfs.permissions.enabled</name>
        <value>false</value>
        <description>Disable HDFS permission checking</description>
    </property>

    <property>
        <name>dfs.permissions.superusergroup</name>
        <value>supergroup</value>
        <description>Superuser group</description>
    </property>

    <!-- DataNode / NameNode 行为 -->

    <property>
        <name>dfs.datanode.use.datanode.hostname</name>
        <value>false</value>
        <description>Use hostname for DataNode registration</description>
    </property>

    <property>
        <name>dfs.heartbeat.interval</name>
        <value>3</value>
        <description>DataNode heartbeat interval in seconds</description>
    </property>

    <property>
        <name>dfs.namenode.handler.count</name>
        <value>10</value>
        <description>Number of handler threads for NameNode</description>
    </property>

    <property>
        <name>dfs.datanode.handler.count</name>
        <value>10</value>
        <description>Number of handler threads for DataNode</description>
    </property>

    <property>
        <name>dfs.blocksize</name>
        <value>134217728</value>
        <description>Block size in bytes (128MB)</description>
    </property>

    <property>
        <name>dfs.datanode.du.reserved</name>
        <value>1073741824</value>
        <description>Reserved space per volume (1GB)</description>
    </property>

    <property>
        <name>dfs.datanode.max.transfer.threads</name>
        <value>4096</value>
        <description>Max concurrent data transfer threads</description>
    </property>

    <property>
        <name>dfs.balance.bandwidthPerSec</name>
        <value>1048576</value>
        <description>Balancer bandwidth (bytes/sec)</description>
    </property>

    <property>
        <name>dfs.webhdfs.enabled</name>
        <value>true</value>
        <description>Enable WebHDFS</description>
    </property>

    <!-- 客户端行为 -->

    <property>
        <name>dfs.client.retry.policy.enabled</name>
        <value>true</value>
        <description>Enable DFS client retry policy</description>
    </property>

    <property>
        <name>dfs.client.retry.max.attempts</name>
        <value>10</value>
        <description>Max DFSClient retry attempts</description>
    </property>

    <property>
        <name>dfs.client.socket-timeout</name>
        <value>60000</value>
        <description>DFS client socket timeout (ms)</description>
    </property>

    <property>
        <name>dfs.client.read.shortcircuit</name>
        <value>false</value>
        <description>Disable short-circuit local reads</description>
    </property>

    <property>
        <name>dfs.client.use.legacy.blockreader.local</name>
        <value>false</value>
        <description>Use legacy local block reader or not</description>
    </property>

    <!-- 其他 -->

    <property>
        <name>dfs.datanode.parallel.volumes.load.threads.num</name>
        <value>1</value>
        <description>Threads to load data volumes</description>
    </property>

    <property>
        <name>dfs.namenode.enableRetryCache</name>
        <value>true</value>
        <description>Enable NameNode retry cache</description>
    </property>

</configuration>
